"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function m(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}window.DemoMenu=function(){this.menu=null,this.selectors={MENU:".demo-menu",TRIGGER:".demo-menu__trigger",OVERLAY:".demo-menu__overlay",NAV:".demo-menu__nav",THUMB_WRAP:".demo-menu__thumb-wrap",THUMB_ICON:".demo-menu__thumb-icon"};this.states={MENU_ACTIVE:"demo-menu--active",MENU_INITIALIZED:"demo-menu--inited",THUMB_WRAP_ACTIVE:"demo-menu__thumb-wrap--active"};arguments[0]&&"object"===_typeof(arguments[0])&&(this.options=function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}({template:'<div class="demo-menu"><div class="demo-menu__overlay"></div><div class="demo-menu__nav"><ul class="demo-menu__list demo-menu__list--custom-scroll"><li class="demo-menu__item" data-for="data-for"><a class="demo-menu__link" href="{{ href }}">{{ title }}<i class="demo-menu__thumb-icon" data-thumb="{{ thumb }}">?</i></a></li></ul><div class="demo-menu__thumb-wrap"><img alt=""></div><div class="demo-menu__trigger"><a class="demo-menu__trigger-btn" href="#"><i class="demo-menu__trigger-icon"></i></a></div></div></div>',css:"//cdn.jsdelivr.net/gh/Antroll/demo-menu/dist/styles/demo-menu.css",configPath:"demo/data.json",activeOnHover:!(this.states={MENU_ACTIVE:"demo-menu--active",MENU_INITIALIZED:"demo-menu--inited",THUMB_WRAP_ACTIVE:"demo-menu__thumb-wrap--active"})},arguments[0]))},DemoMenu.prototype.init=function(){var t=this;function e(){var e=document.querySelector(t.selectors.MENU);e.removeAttribute("style"),e.classList.add(t.states.MENU_INITIALIZED)}(function(o){var n=this.options;n.css&&function(e){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.href=e,t.appendChild(o)}(n.css);!function(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){if(200<=o.status&&o.status<400){var e=o.responseText;t(e)}else console.log("We reached our target server, but it returned an error")},o.onerror=function(){console.log("There was a connection error of some sort")},o.send()}(n.configPath,function(e){var t=JSON.parse(e);!function(e,t){var o=m(e),n=o.querySelector("[data-for]"),r=n.parentNode,s=t;r.removeChild(n),o.style.display="none";for(var i=0;i<s.length;i++){var a=s[i];n.removeAttribute("data-for");var c=l(n),u=m(c=(c=(c=c.replace("{{ href }}",a.href)).replace("{{ title }}",a.title)).replace("{{ thumb }}",a.thumb));r.appendChild(u)}document.body.appendChild(o)}(n.template,t.pages),o()})}).call(t,function(){(function(){var t=this,e=t.options,o=document.querySelector(t.selectors.TRIGGER),n=document.querySelector(t.selectors.OVERLAY),r=document.querySelector(t.selectors.MENU),s=(document.querySelector(t.selectors.NAV),void 0);o&&(o.addEventListener("click",function(e){e.preventDefault(),r.classList.contains(t.states.MENU_ACTIVE)?r.classList.remove(t.states.MENU_ACTIVE):r.classList.add(t.states.MENU_ACTIVE)}),e.activeOnHover&&(r.addEventListener("mouseenter",function(){clearTimeout(s),s=setTimeout(function(){r.classList.add(t.states.MENU_ACTIVE)},400)}),r.addEventListener("mouseleave",function(){clearTimeout(s),s=setTimeout(function(){r.classList.remove(t.states.MENU_ACTIVE)},500)})));n&&n.addEventListener("click",function(e){e.preventDefault(),r.classList.toggle(t.states.MENU_ACTIVE)});var i=document.querySelectorAll(t.selectors.THUMB_ICON);if(i){for(var a=0;a<i.length;a++)i[a].addEventListener("mouseenter",function(){var e=this.getAttribute("data-thumb");c.querySelector("img").style.maxHeight=document.querySelector(t.selectors.NAV).clientHeight+"px",c.classList.add(t.states.THUMB_WRAP_ACTIVE),u.setAttribute("src",e)}),i[a].addEventListener("mouseleave",function(){c.classList.remove(t.states.THUMB_WRAP_ACTIVE),u.removeAttribute("src")});var c=document.querySelector(t.selectors.THUMB_WRAP),u=c.querySelector("img")}}).call(t),function(t){var o=document.querySelector(this.selectors.OVERLAY);!function e(){"fixed"!==getComputedStyle(o).getPropertyValue("position")?setTimeout(e,200):t()}()}.call(t,e)})};var o,l="outerHTML"in(o=document.createElement("div"))?function(e){return e.outerHTML}:function(e){var t=o.cloneNode();return t.appendChild(e.cloneNode(!0)),t.innerHTML}}(),function(){var e=document.querySelector("[data-demo-data]");if(e){var t=e.getAttribute("data-demo-data");t?new DemoMenu({configPath:t,activeOnHover:!0,css:"styles/demo-menu.css"}).init():console.warn("DemoMenu","configPath is empty")}else console.warn("DemoMenu","there is no selector with config url")}();
//# sourceMappingURL=demo-menu.js.map
